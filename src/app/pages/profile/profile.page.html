<ion-header>
  <ion-toolbar>
    <ion-title>
      Profile
    </ion-title>
    <ion-button routerLink="/home">Home</ion-button>
  </ion-toolbar>
</ion-header>

<ng-container *ngIf="userProfileData$ | async as userProfiles">
  <ion-button *ngIf="userProfiles.length"
              expand="full" (click)="showProfileData = !showProfileData">
    {{ showProfileData ? 'Hide Profile Data' : 'Show Profile Data' }}
  </ion-button>

  <ng-container *ngIf="showProfileData">
    <!-- Display user profile data on a card -->
    <ion-card *ngFor="let profile of userProfiles">
      <ion-card-header>
        <ion-card-title>Email: {{ user?.email }}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <!-- Stack the information vertically using <div> -->
        <div>
          <ion-label>Name: {{ profile['name'] }}</ion-label>
        </div>
        <div>
          <ion-label>Age: {{ profile['age'] }}</ion-label>
        </div>
        <div>
          <ion-label>Phone Number: {{ profile['phoneNumber'] }}</ion-label>
        </div>
        <div>
          <ion-label>Address: {{ profile['address'] }}</ion-label>
        </div>
      </ion-card-content>
    </ion-card>
  </ng-container>
</ng-container>

<ion-content>
  <form [formGroup]="profileForm">
    <ion-item>
      <ion-label position="floating">Email</ion-label>
      <ion-input formControlName="email" [value]="user?.email" ></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Name</ion-label>
      <ion-input formControlName="name"></ion-input>
      <ion-button type="button" expand="full" (click)="onUpdate('name')">Update Name</ion-button>
      <ion-button type="button" expand="full" (click)="onDelete('name')">Delete Name</ion-button>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Age</ion-label>
      <ion-input formControlName="age"></ion-input>
      <ion-button type="button" expand="full" (click)="onUpdate('age')">Update Age</ion-button>
      <ion-button type="button" expand="full" (click)="onDelete('age')">Delete Age</ion-button>

    </ion-item>

    <ion-item>
      <ion-label position="floating">Phone Number</ion-label>
      <ion-input formControlName="phoneNumber"></ion-input>
      <ion-button type="button" expand="full" (click)="onUpdate('phoneNumber')">Update Number</ion-button>
      <ion-button type="button" expand="full" (click)="onDelete('phoneNumber')">Delete Number</ion-button>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Address</ion-label>
      <ion-input formControlName="address"></ion-input>
      <ion-button type="button"  (click)="onUpdate('address')">Update Address</ion-button>
      <ion-button type="button"  (click)="onDelete('address')">Delete Address</ion-button>
    </ion-item>

  
    <ion-button type="submit" expand="full" (click)="onSave()">Save Profile</ion-button>

   
  </form>


  
</ion-content>
